@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

title [C1] Система мониторинга свиноферм (Вариант 2: Облачная аналитика)

' === Участники ===
Person(operator, "Оператор", "Мониторинг через центральный портал")
Person(worker, "Дежурный сотрудник", "Получает уведомления на личный смартфон")

System(pig_system, "PigMonitoring Cloud Platform", "Централизованная обработка видео и данных со всех ферм")

System_Ext(erp, "ERP (1С:Агро)", "Учет поголовья и кормов")
System_Ext(kafka, "Шина данных (Kafka)", "Прием метрик для аналитиков")
System_Ext(ai_model, "Partner AI API", "Облачный API для анализа видеопотоков")
System_Ext(hardware, "Оборудование ферм", "Камеры и датчики, передающие данные через интернет")

Rel(operator, pig_system, "Настраивает систему", "HTTPS/Web")
Rel(pig_system, worker, "Шлет уведомления (требует интернет)", "Push/Mobile")

Rel(hardware, pig_system, "Стриминг видео и телеметрии", "RTSP/MQTT over TLS")
Rel(pig_system, ai_model, "Запросы на распознавание образов", "REST/gRPC")

Rel(pig_system, erp, "Синхронизация данных", "REST API")
Rel(pig_system, kafka, "Передает метрик", "Kafka Protocol")

@enduml