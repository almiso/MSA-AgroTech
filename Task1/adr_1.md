### <a name="_b7urdng99y53"></a>**Название задачи: MVP системы мониторинга свиноводческих ферм (PigMonitoring)**
### <a name="_hjk0fkfyohdk"></a>**Автор: Алесандр Сосорев**
### <a name="_uanumrh8zrui"></a>**Дата: 01.02.2026**
### <a name="_3bfxc9a45514"></a>**Функциональные требования**
Система предназначена для автоматизации мониторинга, кормления и обеспечения безопасности животных на распределенных фермах.

| **№** | **Действующие лица или системы** | **Use Case** | **Описание** |
| :--- | :--- | :--- | :--- |
| 1 | Видеокамера, Агент, Оператор | **Детекция нештатных ситуаций** | Система анализирует видеопоток. При обнаружении драки или задавливания поросенка оператор получает уведомление в течение 5 секунд. |
| 2 | Дежурный сотрудник, Агент | **Локальное оповещение (Offline)** | В случае отсутствия интернета агент фиксирует инцидент и отправляет уведомление дежурному сотруднику по локальной сети фермы. |
| 3 | Система, Кормушки и поилки | **Управление ресурсами** | Система мониторит запасы еды и управляет оборудованием разных производителей для автоматизации процесса кормления. |
| 4 | Система, ERP (1С:Агро) | **Синхронизация данных** | Система пересчитывает поголовье по видео и сверяет данные с ERP. Данные синхронизируются с центром при наличии связи (задержка до 10 мин). |

### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**
| **№** | **Требование** |
| :--- | :--- |
| 1 | **Производительность:** Время от фиксации нештатной ситуации до момента оповещения — не более 5 секунд. |
| 2 | **Отказоустойчивость:** Обеспечение доступности системы на уровне 99,95%. |
| 3 | **Автономность:** Работа системы при полном отсутствии интернета с последующей синхронизацией при восстановлении связи. |
| 4 | **Масштабируемость:** Поддержка неограниченного количества локальных агентов на фермах. |

### <a name="_qmphm5d6rvi3"></a>**Решение**
Выбрана архитектура по принципу **«Центральный сервер — агенты» (Edge Computing)**.

**Основные компоненты и интеграции:**
* **Локальные агенты (Edge):** Развертываются на фермах, выполняют видеоаналитику (инференс партнерской нейросети) и управляют IoT-оборудованием.
* **Центральный сервер:** Агрегирует метрики через Kafka, предоставляет API для приложений и интегрируется с ERP-системой компании.
* **Интеграции:** Использование стандартных протоколов (MQTT, ONVIF) для поддержки оборудования разных вендоров.

**Логика принятия решения:**

Выбор Edge-подхода обусловлен необходимостью мгновенной реакции (<5 сек) в условиях нестабильного Wi-Fi на фермах. Локальная обработка исключает задержки на передачу видеопотоков в облако и гарантирует работу системы в offline-режиме.

### <a name="_bjrr7veeh80c"></a>**Альтернативы**

**Вариант: Облачная архитектура (Cloud Centric)**
* **Описание:** Все видеопотоки транслируются в центральное облако для последующего анализа нейросетями.
* **Причина отказа:** Нестабильность каналов связи на фермах делает невозможным гарантированный стриминг видео 24/7. При обрыве связи система полностью теряет функциональность, что нарушает критические требования безопасности и времени отклика.

**Недостатки, ограничения, риски**
* **Эксплуатационные расходы:** Необходимость обслуживания физических серверов на каждой из 150+ ферм.
* **Сложность обновлений:** Распределенное обновление моделей нейросетей и ПО на агентах требует сложной системы оркестрации.
* **Синхронизация данных:** Допустимая задержка в 10 минут может приводить к временным расхождениям в отчетах центральной системы и реальным положением дел на ферме.
* **Инфраструктурные риски:** Требование к камерам с поддержкой ночной съемки и защитой от агрессивной среды (пыль, влажность на фермах).
